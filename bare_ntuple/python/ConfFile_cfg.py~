import FWCore.ParameterSet.Config as cms

process = cms.Process("BARE")

process.load("FWCore.MessageService.MessageLogger_cfi")

#era ='PHYS14_V4_MC'
#process.load('Configuration.StandardSequences.Services_cff')
#process.load("Configuration.StandardSequences.FrontierConditions_GlobalTag_cff")
#process.GlobalTag.globaltag = "PHYS14_25_V2"
#process.load("CondCore.DBCommon.CondDBCommon_cfi")
#from CondCore.DBCommon.CondDBSetup_cfi import *
#process.jec = cms.ESSource("PoolDBESSource",CondDBSetup,
#                                   connect = cms.string('sqlite_file:'+era+'.db'),
#                                                           toGet =  cms.VPSet(
#               cms.PSet(record = cms.string("JetCorrectionsRecord"),
#                                tag = cms.string("JetCorrectorParametersCollection_"+era+"_AK4PF"),
#                                label= cms.untracked.string("AK4PF")),
#               cms.PSet(record = cms.string("JetCorrectionsRecord"),
#                                tag = cms.string("JetCorrectorParametersCollection_"+era+"_AK4PFchs"),
#                                label= cms.untracked.string("AK4PFchs")),
#                )
#                                                           )
#process.es_prefer_jec = cms.ESPrefer("PoolDBESSource",'jec')

#process.load("RecoJets.Configuration.RecoJets_EventContent_cff")

process.maxEvents = cms.untracked.PSet( input = cms.untracked.int32(-1) )

process.option = cms.untracked.PSet( wantSummary = cms.untracked.bool(True) )


process.source = cms.Source("PoolSource",
    fileNames = cms.untracked.vstring(
        #'file:myfile.root' if it is local
        #'/store/mc/Phys14DR/ZJetsToNuNu_HT-100to200_Tune4C_13TeV-madgraph-tauola/AODSIM/PU20bx25_PHYS14_25_V1-v1/00000/02FBEDF5-8373-E411-AEC8-E0CB4E553665.root'
#'file:/afs/cern.ch/user/s/shoh/eos/cms/store/relval/CMSSW_7_4_1/RelValADDMonoJet_d3MD3_13/MINIAODSIM/MCRUN2_74_V9_gensim71X-v1/00000/80CF5456-B9EC-E411-93DA-002618FDA248.root'
'/store/mc/Phys14DR/ZJetsToNuNu_HT-100to200_Tune4C_13TeV-madgraph-tauola/AODSIM/PU20bx25_PHYS14_25_V1-v1/00000/02FBEDF5-8373-E411-AEC8-E0CB4E553665.root'
    )
)

#from RecoJets.Configuration.GenJetParticles_cff import *
#from RecoJets.Configuration.RecoGenJets_cff import *
#from Bare_Ntuple.bare_ntuple.JetCorrection_cff import *
#process.load('Bare_Ntuple.bare_ntuple.JetCorrection_cff')

#ak4GenJets = ak5GenJets.clone ( rParam=0.4 )
#ak4GenJetsNoMuNoNu = ak4GenJets.clone ( src = 'genParticlesForJetsNoMuNoNu' )
#This is the collection I actually use
#ak4GenJetsNoNu = ak4GenJets.clone ( src = 'genParticlesForJetsNoNu' )

#setattr(process,'genParticlesForJetsNoNu',genParticlesForJetsNoNu)
#sequence = cms.Sequence(genParticlesForJetsNoNu)
#setattr(process,'ak4GenJetsNoNu',ak4GenJetsNoNu) #the second argument is the input tag!
#setattr(process,'ak4PFchsJetsL1FastL2L3',ak4PFchsJetsL1FastL2L3)
#sequence = cms.Sequence(sequence * ak4GenJetsNoNu * ak4PFchsJetsL1FastL2L3)

process.bare = cms.EDAnalyzer('bare_ntuple',
                              pfj = cms.untracked.InputTag('ak4PFJetsCHS'),
                              #PFJetCorToken_ = cms.untracked.InputTag('ak4PFchsL1FastL2L3')
)

#sequence = cms.Sequence(sequence * process.bare)
#setattr(process,'bareAK4Sequence',sequence)
#path = cms.Path( sequence )
#setattr(process,'demoAK4Path',path)
process.TFileService = cms.Service("TFileService", fileName = cms.string('bare_ntuple.root') )
path = cms.Path(process.bare)
